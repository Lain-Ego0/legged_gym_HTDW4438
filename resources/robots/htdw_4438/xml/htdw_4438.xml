<mujoco model="htdw_4438">
    <compiler angle="radian" meshdir="/home/sunteng/Documents/GitHub/Lain_isaacgym/resources/robots/htdw_4438/meshes/" />
    <size njmax="500" nconmax="100" />

    <asset>
        <mesh name="base_link_simple" file="base_link_simple.STL" />
        <mesh name="FL_hip" file="FL_hip.STL" />
        <mesh name="FL_thigh" file="FL_thigh.STL" />
        <mesh name="FL_calf" file="FL_calf.STL" />
        <mesh name="FL_foot" file="FL_foot.STL" />
        <mesh name="FR_hip" file="FR_hip.STL" />
        <mesh name="FR_thigh" file="FR_thigh.STL" />
        <mesh name="FR_calf" file="FR_calf.STL" />
        <mesh name="FR_foot" file="FR_foot.STL" />
        <mesh name="RL_hip" file="RL_hip.STL" />
        <mesh name="RL_thigh" file="RL_thigh.STL" />
        <mesh name="RL_calf" file="RL_calf.STL" />
        <mesh name="RL_foot" file="RL_foot.STL" />
        <mesh name="RR_hip" file="RR_hip.STL" />
        <mesh name="RR_thigh" file="RR_thigh.STL" />
        <mesh name="RR_calf" file="RR_calf.STL" />
        <mesh name="RR_foot" file="RR_foot.STL" />
    </asset>

    <!-- 统一设置阻尼、摩擦力、碰撞解算参数 -->
    <default>
        <joint limited="true" damping="0.1" frictionloss="0.0" armature="0.0"/>
        <geom contype="1" conaffinity="1" friction="0.8 0.05 0.05" solref="0.005 1"/>
    </default>

    <worldbody>
        <!-- Robot Base (Root Body) from Snippet -->
        <body name="robot" pos="0 0 0.3" quat="1 0 0 0">
            <joint name="float_base" type="free" limited="false"/>
            <inertial pos="0 0 0" quat="1 0 0 0" mass="4.713" diaginertia="0.0168 0.0566 0.0647"/>
            <site name="imu" pos="-0.02557 0 0.04232" />

            <!-- Adding Visual Geoms from Original File to the Root Body -->
            <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="base_link_simple" />
            <geom size="0.085 0.045 0.069" pos="0 0 0.025" type="box" rgba="1 1 1 1" />

            <!-- Front Left Leg -->
            <!-- Joint names changed to Uppercase to match actuators -->
            <body name="fl_hip" pos="0.0909 0.04 0">
                <inertial pos="0.0326958 0.00444394 -9.507e-05" quat="0.465966 0.463585 0.53558 0.530206" mass="0.292358" diaginertia="0.000412728 0.000405494 8.3118e-05" />
                <joint name="FL_hip_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.9 0.9" />
                <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FL_hip" />
                <geom size="0.03 0.0225" pos="0.035 0 0" quat="0.505398 0.499971 0.499971 -0.494602" type="cylinder" rgba="1 1 1 1" />
                
                <body name="fl_thigh" pos="0.034 0.0254 0">
                    <inertial pos="-0.00137569 0.0379093 -0.0116534" quat="0.884178 0.465761 0.0354147 -0.00650016" mass="0.410408" diaginertia="0.00122804 0.000985868 0.000366426" />
                    <joint name="FL_thigh_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-1.5 3.5" />
                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FL_thigh" />
                    <geom size="0.01 0.0125 0.05" pos="0.004 0.06 -0.045" quat="0.984727 0 0.174108 0" type="box" rgba="1 1 1 1" />
                    
                    <body name="fl_calf" pos="0 0.0604 -0.12">
                        <inertial pos="0.0101367 -0.000182728 -0.0624887" quat="0.710874 -0.0477597 -0.04827 0.700034" mass="0.0469098" diaginertia="0.000213166 0.000209385 5.3017e-06" />
                        <joint name="FL_calf_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-2.5 -1.2" />
                        <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FL_calf" />
                        <geom size="0.01 0.05" pos="0.013 0 -0.05" quat="0.995004 0 -0.0998334 0" type="cylinder" rgba="1 1 1 1" />
                        
                        <!-- Foot Geoms -->
                        <geom pos="0.00206 6e-05 -0.13694" type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FL_foot" />
                        <geom size="0.015" pos="0.00456 6e-05 -0.12424" rgba="1 1 1 1" />
                        <!-- Adding a site for possible contact sensing, though not strictly in the sensor snippet -->
                        <site name="FL_foot_site" pos="0.00456 6e-05 -0.12424" size="0.01" rgba="0 0 1 0.5"/>
                    </body>
                </body>
            </body>

            <!-- Front Right Leg -->
            <body name="fr_hip" pos="0.0909 -0.04 0">
                <inertial pos="0.0326958 -0.00444394 9.507e-05" quat="0.53558 0.530206 0.465966 0.463585" mass="0.292358" diaginertia="0.000412728 0.000405494 8.3118e-05" />
                <joint name="FR_hip_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.9 0.9" />
                <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FR_hip" />
                <geom size="0.03 0.0225" pos="0.035 0 0" quat="0.505398 0.499971 0.499971 -0.494602" type="cylinder" rgba="1 1 1 1" />
                
                <body name="fr_thigh" pos="0.034 -0.0254 0">
                    <inertial pos="-0.00130371 -0.0379128 -0.0115569" quat="0.466339 0.884003 0.00461373 -0.0323373" mass="0.410408" diaginertia="0.0012278 0.000984249 0.000367077" />
                    <joint name="FR_thigh_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-1.5 3.5" />
                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FR_thigh" />
                    <geom size="0.01 0.0125 0.05" pos="0.004 -0.06 -0.045" quat="0.984727 0 0.174108 0" type="box" rgba="1 1 1 1" />
                    
                    <body name="fr_calf" pos="0 -0.0604 -0.12">
                        <inertial pos="0.0101597 1.52233e-05 -0.0626033" quat="0.698922 -0.0488767 -0.0472409 0.711961" mass="0.0469098" diaginertia="0.000213525 0.000209727 5.30063e-06" />
                        <joint name="FR_calf_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-2.5 -1.2" />
                        <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FR_calf" />
                        <geom size="0.01 0.05" pos="0.013 0 -0.05" quat="0.995004 0 -0.0998334 0" type="cylinder" rgba="1 1 1 1" />
                        
                        <geom pos="0.00206 6e-05 -0.13694" type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="FR_foot" />
                        <geom size="0.015" pos="0.00456 6e-05 -0.12424" rgba="1 1 1 1" />
                        <site name="FR_foot_site" pos="0.00456 6e-05 -0.12424" size="0.01" rgba="0 0 1 0.5"/>
                    </body>
                </body>
            </body>

            <!-- Rear Left Leg -->
            <body name="rl_hip" pos="-0.0909 0.04 0">
                <inertial pos="-0.0326958 0.00444394 9.507e-05" quat="0.530206 0.53558 0.463585 0.465966" mass="0.292358" diaginertia="0.000412728 0.000405494 8.3118e-05" />
                <joint name="RL_hip_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.9 0.9" />
                <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RL_hip" />
                <geom size="0.03 0.0225" pos="-0.035 0 0" quat="0.505398 0.499971 0.499971 -0.494602" type="cylinder" rgba="1 1 1 1" />
                
                <body name="rl_thigh" pos="-0.034 0.0254 0">
                    <inertial pos="-0.00137569 0.0379093 -0.0116534" quat="0.884178 0.465761 0.0354147 -0.00650016" mass="0.410408" diaginertia="0.00122804 0.000985868 0.000366426" />
                    <joint name="RL_thigh_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-1.5 3.5" />
                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RL_thigh" />
                    <geom size="0.01 0.0125 0.05" pos="0.004 0.06 -0.045" quat="0.984727 0 0.174108 0" type="box" rgba="1 1 1 1" />
                    
                    <body name="rl_calf" pos="0 0.0604 -0.12">
                        <inertial pos="0.0095589 -0.000182728 -0.0624887" quat="0.709338 -0.0452838 -0.0455386 0.701937" mass="0.0469098" diaginertia="0.000213491 0.000208973 6.03985e-06" />
                        <joint name="RL_calf_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-2.5 -1.2" />
                        <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RL_calf" />
                        <geom size="0.01 0.05" pos="0.013 0 -0.05" quat="0.995004 0 -0.0998334 0" type="cylinder" rgba="1 1 1 1" />
                        
                        <geom pos="-0.00206 6e-05 -0.13694" type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RL_foot" />
                        <geom size="0.015" pos="0.00044 6e-05 -0.12424" rgba="1 1 1 1" />
                        <site name="RL_foot_site" pos="0.00044 6e-05 -0.12424" size="0.01" rgba="0 0 1 0.5"/>
                    </body>
                </body>
            </body>

            <!-- Rear Right Leg -->
            <body name="rr_hip" pos="-0.0909 -0.04 0">
                <inertial pos="-0.0326958 -0.00444394 -9.507e-05" quat="0.463585 0.465966 0.530206 0.53558" mass="0.292358" diaginertia="0.000412728 0.000405494 8.3118e-05" />
                <joint name="RR_hip_joint" pos="0 0 0" axis="1 0 0" limited="true" range="-0.9 0.9" />
                <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RR_hip" />
                <geom size="0.03 0.0225" pos="-0.035 0 0" quat="0.505398 0.499971 0.499971 -0.494602" type="cylinder" rgba="1 1 1 1" />
                
                <body name="rr_thigh" pos="-0.034 -0.0254 0">
                    <inertial pos="-0.00130371 -0.0379128 -0.0115569" quat="0.466339 0.884003 0.00461373 -0.0323373" mass="0.410408" diaginertia="0.0012278 0.000984249 0.000367077" />
                    <joint name="RR_thigh_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-1.5 3.5" />
                    <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RR_thigh" />
                    <geom size="0.01 0.0125 0.05" pos="0.004 -0.06 -0.045" quat="0.984727 0 0.174108 0" type="box" rgba="1 1 1 1" />
                    
                    <body name="rr_calf" pos="0 -0.0604 -0.12">
                        <inertial pos="0.00958187 1.52233e-05 -0.0626033" quat="0.698998 -0.0462627 -0.044667 0.712227" mass="0.0469098" diaginertia="0.000213852 0.000209314 6.03965e-06" />
                        <joint name="RR_calf_joint" pos="0 0 0" axis="0 1 0" limited="true" range="-2.5 -1.2" />
                        <geom type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RR_calf" />
                        <geom size="0.01 0.05" pos="0.013 0 -0.05" quat="0.995004 0 -0.0998334 0" type="cylinder" rgba="1 1 1 1" />
                        
                        <geom pos="-0.00206 6e-05 -0.13694" type="mesh" contype="0" conaffinity="0" group="1" rgba="1 1 1 1" mesh="RR_foot" />
                        <geom size="0.015" pos="0.00044 6e-05 -0.12424" rgba="1 1 1 1" />
                        <site name="RR_foot_site" pos="0.00044 6e-05 -0.12424" size="0.01" rgba="0 0 1 0.5"/>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>

    <!-- Actuator Section from Snippet -->
    <actuator>      
        <motor name="FL_hip_joint" joint="FL_hip_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="FL_thigh_joint" joint="FL_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="FL_calf_joint" joint="FL_calf_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>

        <motor name="FR_hip_joint" joint="FR_hip_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="FR_thigh_joint" joint="FR_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="FR_calf_joint" joint="FR_calf_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>

        <motor name="RL_hip_joint" joint="RL_hip_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="RL_thigh_joint" joint="RL_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="RL_calf_joint" joint="RL_calf_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>

        <motor name="RR_hip_joint" joint="RR_hip_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="RR_thigh_joint" joint="RR_thigh_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
        <motor name="RR_calf_joint" joint="RR_calf_joint" gear="1" ctrllimited="true" ctrlrange="-10 10"/>
    </actuator>

    <!-- Sensor Section from Snippet -->
    <sensor>
        <actuatorpos name='FR_hip_joint_p'  actuator='FR_hip_joint' user='13'/>
        <actuatorpos name='FR_thigh_joint_p'  actuator='FR_thigh_joint' user='13'/>
        <actuatorpos name='FR_calf_joint_p'  actuator='FR_calf_joint' user='13'/>
        <actuatorpos name='FL_hip_joint_p'  actuator='FL_hip_joint' user='13'/>
        <actuatorpos name='FL_thigh_joint_p'  actuator='FL_thigh_joint' user='13'/>
        <actuatorpos name='FL_calf_joint_p'  actuator='FL_calf_joint' user='13'/>
        <actuatorpos name='RR_hip_joint_p'  actuator='RR_hip_joint' user='13'/>
        <actuatorpos name='RR_thigh_joint_p'  actuator='RR_thigh_joint' user='13'/>
        <actuatorpos name='RR_calf_joint_p'  actuator='RR_calf_joint' user='13'/>
        <actuatorpos name='RL_hip_joint_p'  actuator='RL_hip_joint' user='13'/>
        <actuatorpos name='RL_thigh_joint_p'  actuator='RL_thigh_joint' user='13'/>
        <actuatorpos name='RL_calf_joint_p'  actuator='RL_calf_joint' user='13'/>

        <actuatorvel name='FR_hip_joint_v'  actuator='FR_hip_joint' user='13'/>
        <actuatorvel name='FR_thigh_joint_v'  actuator='FR_thigh_joint' user='13'/>
        <actuatorvel name='FR_calf_joint_v'  actuator='FR_calf_joint' user='13'/>
        <actuatorvel name='FL_hip_joint_v'  actuator='FL_hip_joint' user='13'/>
        <actuatorvel name='FL_thigh_joint_v'  actuator='FL_thigh_joint' user='13'/>
        <actuatorvel name='FL_calf_joint_v'  actuator='FL_calf_joint' user='13'/>
        <actuatorvel name='RR_hip_joint_v'  actuator='RR_hip_joint' user='13'/>
        <actuatorvel name='RR_thigh_joint_v'  actuator='RR_thigh_joint' user='13'/>
        <actuatorvel name='RR_calf_joint_v'  actuator='RR_calf_joint' user='13'/>
        <actuatorvel name='RL_hip_joint_v'  actuator='RL_hip_joint' user='13'/>
        <actuatorvel name='RL_thigh_joint_v'  actuator='RL_thigh_joint' user='13'/>
        <actuatorvel name='RL_calf_joint_v'  actuator='RL_calf_joint' user='13'/>

        <actuatorfrc name='FR_hip_joint_f'  actuator='FR_hip_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='FR_thigh_joint_f'  actuator='FR_thigh_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='FR_calf_joint_f'  actuator='FR_calf_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='FL_hip_joint_f'  actuator='FL_hip_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='FL_thigh_joint_f'  actuator='FL_thigh_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='FL_calf_joint_f'  actuator='FL_calf_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RR_hip_joint_f'  actuator='RR_hip_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RR_thigh_joint_f'  actuator='RR_thigh_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RR_calf_joint_f'  actuator='RR_calf_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RL_hip_joint_f'  actuator='RL_hip_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RL_thigh_joint_f'  actuator='RL_thigh_joint'  user='13' noise='1e-3'/>
        <actuatorfrc name='RL_calf_joint_f'  actuator='RL_calf_joint'  user='13' noise='1e-3'/>

        <framequat     name='orientation' objtype='site' noise='0.001' objname='imu'/>
        <framepos      name='position' objtype='site' noise='0.001' objname='imu'/>
        <gyro          name='angular-velocity'    site='imu' noise='0.005' cutoff='34.9'/>
        <velocimeter   name='linear-velocity'     site='imu' noise='0.001' cutoff='30'/>
        <accelerometer name='linear-acceleration' site='imu' noise='0.005' cutoff='157'/>
        <magnetometer  name='magnetometer'        site='imu'/>
    </sensor>
</mujoco>
